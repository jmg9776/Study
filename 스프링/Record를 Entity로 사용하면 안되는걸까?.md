![](https://i.imgur.com/u25StgI.jpg)

Java 16부터 도입된 레코드 클래스는 개발자들이 훨씬 더 편리하게 불변 객체를 만들 수 있도록 해줍니다. 이 덕분에 getter, equals, toString과 같은 반복적인 코드(보일러플레이트 코드)를 작성하는 번거로움에서 벗어날 수 있죠. 레코드의 특성으로 인해 DTO(Data Transfer Object) 작성이 매우 간편해집니다.

하지만, 레코드를 이용해서 엔티티(Entity)를 만드는 것은 조금 다른 이야기입니다. 왜냐하면, 모든 멤버 변수가 final이 되어야 하기 때문이죠. JPA와 엔티티 관리 측면에서 이를 살펴보겠습니다.

### 레코드의 특성

- **Final 클래스**: 레코드는 final 클래스로 정의되어, 상속이 불가능합니다. 이는 레코드가 주로 DTO에 적합하도록 설계되었다는 것을 의미합니다.
- **불변성(Immutable)**: 레코드는 객체의 상태가 생성 후 변경되지 않습니다. 즉, 불변 객체로 사용되는 것이죠.

### JPA와 엔티티 관리

- **프록시 객체와 상속**: JPA는 지연 로딩(Lazy Loading) 방식을 사용할 때, 엔티티 객체의 프록시를 생성합니다. 이 프록시 객체는 원본 엔티티를 상속하여 생성되는 확장 클래스입니다. 하지만 레코드는 상속이 불가능합니다.
- **레코드의 상속 불가능성**: 레코드는 final 클래스이기 때문에 상속할 수 없습니다. JPA에서는 엔티티 객체가 상속 가능해야 합니다.

### 결론

따라서, JPA에서 엔티티로 사용되기 위해서는 클래스가 상속 가능하고 변경 가능한 상태를 가져야 합니다. 레코드는 이러한 JPA의 요구 사항을 충족하지 못하기 때문에, 엔티티로 사용하기에는 적합하지 않습니다. 그러나 데이터의 불변성이 중요한 상황에서 DTO로 사용하기에는 매우 적합한 선택입니다.